[{"path":[]},{"path":"/EXPLAINER.html","id":"what-is-this","dir":"","previous_headings":"","what":"What is this?","title":"CausalInvestData Explainer","text":"CausalInvestData R package provides high-quality, simulated datasets designed developing, testing, teaching causal inference methods context institutional investment management.","code":""},{"path":"/EXPLAINER.html","id":"why-use-this-package","dir":"","previous_headings":"","what":"Why use this package?","title":"CausalInvestData Explainer","text":"Institutional finance professionals, data scientists, researchers often struggle find relevant datasets training causal models. package solves offering curated, labeled datasets simulate: Fund performance treatment interventions Portfolio allocation strategies Client behavioral outcomes (e.g., churn, satisfaction) Macroeconomic time-series shocks","code":""},{"path":"/EXPLAINER.html","id":"who-is-this-for","dir":"","previous_headings":"","what":"Who is this for?","title":"CausalInvestData Explainer","text":"Financial data scientists Quant researchers Academics teaching causal inference Developers testing causal ML pipelines","code":""},{"path":"/EXPLAINER.html","id":"use-cases","dir":"","previous_headings":"","what":"Use Cases","title":"CausalInvestData Explainer","text":"Propensity score matching investment strategy evaluation Causal forest models treatment heterogeneity Impact advisory services client churn Macroeconomic sensitivity testing","code":""},{"path":"/EXPLAINER.html","id":"where-is-it-hosted","dir":"","previous_headings":"","what":"Where is it hosted?","title":"CausalInvestData Explainer","text":"GitHub: https://github.com/edzai/CausalInvestData (Soon) R-universe: https://edzai.r-universe.dev pkgdown: https://edzai.github.io/CausalInvestData","code":""},{"path":"/EXPLAINER.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"CausalInvestData Explainer","text":"Edzai Conilias Zvobwo | edzai@acalytica.com","code":""},{"path":"/articles/causal-impact.html","id":"causal-time-series-impact-analysis","dir":"Articles","previous_headings":"","what":"üìÖ Causal Time-Series Impact Analysis","title":"Causal Time-Series Impact Analysis","text":"Causal impact analysis estimates intervention affects outcome time. financial settings, might reflect effect policy change, economic shock, strategy shift.","code":""},{"path":"/articles/causal-impact.html","id":"load-the-macro-shocks-dataset","dir":"Articles","previous_headings":"","what":"üì¶ Load the Macro Shocks Dataset","title":"Causal Time-Series Impact Analysis","text":"‚Äôll simulate intervention (e.g.¬†policy shock) occurring time point 80.","code":"data(\"macro_shocks\") head(macro_shocks) ##         date interest_rate gdp_growth market_index ## 1 2020-01-01    0.04858548 0.02098241   0.03418012 ## 2 2020-02-01    0.03740164 0.02505696   0.05356738 ## 3 2020-03-01    0.04924685 0.02460699   0.04155380 ## 4 2020-04-01    0.05109889 0.01260686   0.01707771 ## 5 2020-05-01    0.02392792 0.02387595   0.02444632 ## 6 2020-06-01    0.06718417 0.01306215  -0.04220713"},{"path":"/articles/causal-impact.html","id":"create-prepost-intervention-periods","dir":"Articles","previous_headings":"","what":"üß™ Create Pre/Post-Intervention Periods","title":"Causal Time-Series Impact Analysis","text":"","code":"macro_shocks <- macro_shocks %>%   mutate(time = row_number(),          intervention = ifelse(time >= 80, 1, 0))"},{"path":"/articles/causal-impact.html","id":"plot-the-time-series","dir":"Articles","previous_headings":"","what":"üìà Plot the Time Series","title":"Causal Time-Series Impact Analysis","text":"","code":"ggplot(macro_shocks, aes(x = date, y = market_index)) +   geom_line() +   geom_vline(xintercept = macro_shocks$date[80], linetype = \"dashed\", color = \"red\") +   labs(title = \"Market Index with Simulated Intervention at Month 80\",        x = \"Date\", y = \"Market Index\") +   theme_minimal()"},{"path":"/articles/causal-impact.html","id":"estimate-counterfactual-using-linear-regression","dir":"Articles","previous_headings":"","what":"‚öôÔ∏è Estimate Counterfactual Using Linear Regression","title":"Causal Time-Series Impact Analysis","text":"","code":"pre_data <- macro_shocks %>% filter(intervention == 0) post_data <- macro_shocks %>% filter(intervention == 1)  model <- lm(market_index ~ interest_rate + gdp_growth, data = pre_data) post_data$predicted <- predict(model, newdata = post_data)  ggplot(post_data, aes(x = date)) +   geom_line(aes(y = market_index), color = \"blue\") +   geom_line(aes(y = predicted), color = \"orange\", linetype = \"dashed\") +   labs(title = \"Observed vs Counterfactual Post-Intervention\",        y = \"Market Index\", x = \"Date\") +   theme_minimal()"},{"path":"/articles/causal-impact.html","id":"optional-use-causalimpact-package","dir":"Articles","previous_headings":"","what":"üßæ Optional: Use CausalImpact Package","title":"Causal Time-Series Impact Analysis","text":"installed:","code":"# install.packages(\"CausalImpact\") # library(CausalImpact)  # ts_data <- ts(macro_shocks$market_index, frequency = 12) # ts_covariates <- macro_shocks %>% select(interest_rate, gdp_growth) # impact <- CausalImpact(cbind(ts_data, ts_covariates), 1, 79) # plot(impact) # summary(impact)"},{"path":"/articles/causal-impact.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"‚úÖ Conclusion","title":"Causal Time-Series Impact Analysis","text":"Using even simple pre/post modeling, can estimate market index might looked like ‚Äúshock‚Äù occurred. approach helps analysts measure causal effect real-world events time.","code":""},{"path":"/articles/causal-impact.html","id":"citation","dir":"Articles","previous_headings":"","what":"üìñ Citation","title":"Causal Time-Series Impact Analysis","text":"","code":"citation(\"CausalInvestData\") ## To cite the CausalInvestData package in publications, use: ##  ##   Conilias Zvobwo E (2025). _CausalInvestData: Simulated Datasets for ##   Causal Inference in Investment Management_. R package version 0.1.0, ##   <https://github.com/edzai/CausalInvestData>. ##  ## A BibTeX entry for LaTeX users is ##  ##   @Manual{, ##     title = {CausalInvestData: Simulated Datasets for Causal Inference in Investment Management}, ##     author = {Edzai {Conilias Zvobwo}}, ##     year = {2025}, ##     note = {R package version 0.1.0}, ##     url = {https://github.com/edzai/CausalInvestData}, ##   }"},{"path":"/articles/causal-methods-overview.html","id":"what-is-causal-inference","dir":"Articles","previous_headings":"","what":"üß† What is Causal Inference?","title":"Causal Inference Methods Overview","text":"Causal inference process estimating effect intervention treatment outcome. Unlike correlation, causal inference requires assumptions data generated. article, use fund_performance dataset illustrate common methods.","code":"data(\"fund_performance\") head(fund_performance) ##   fund_id market_return        alpha      beta treatment       return ## 1       1   0.003952435 -0.009915974 0.9217857         0 -0.007775751 ## 2       2   0.036982251 -0.010799101 1.1331275         1  0.032828934 ## 3       3   0.215870831  0.009640395 1.0374590         1  0.224115880 ## 4       4   0.067050839  0.007356497 1.1228787         1  0.080673608 ## 5       5   0.072928774 -0.040986855 0.9176203         0  0.051918971 ## 6       6   0.231506499  0.030811469 0.8564341         0  0.228707376"},{"path":"/articles/causal-methods-overview.html","id":"naive-difference-in-means","dir":"Articles","previous_headings":"","what":"‚öñÔ∏è 1. Naive Difference in Means","title":"Causal Inference Methods Overview","text":"method assumes random treatment assignment.","code":"fund_performance %>%   group_by(treatment) %>%   summarise(mean_return = mean(return)) ## # A tibble: 2 √ó 2 ##   treatment mean_return ##       <int>       <dbl> ## 1         0      0.0724 ## 2         1      0.0764"},{"path":"/articles/causal-methods-overview.html","id":"propensity-score-matching-psm","dir":"Articles","previous_headings":"","what":"üéØ 2. Propensity Score Matching (PSM)","title":"Causal Inference Methods Overview","text":"PSM attempts create balanced dataset matching treated control units probability receiving treatment. Check matched data:","code":"psm <- matchit(treatment ~ market_return + alpha + beta, data = fund_performance, method = \"nearest\") summary(psm) ##  ## Call: ## matchit(formula = treatment ~ market_return + alpha + beta, data = fund_performance,  ##     method = \"nearest\") ##  ## Summary of Balance for All Data: ##               Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean ## distance             0.4942        0.4919          0.0961     0.9914    0.0250 ## market_return        0.0623        0.0610          0.0134     0.9360    0.0079 ## alpha                0.0102        0.0115         -0.0687     0.9442    0.0194 ## beta                 0.9919        0.9993         -0.0654     0.9965    0.0186 ##               eCDF Max ## distance        0.0725 ## market_return   0.0232 ## alpha           0.0512 ## beta            0.0413 ##  ## Summary of Balance for Matched Data: ##               Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean ## distance             0.4942        0.4920          0.0887     1.0413    0.0230 ## market_return        0.0623        0.0602          0.0208     0.9314    0.0088 ## alpha                0.0102        0.0113         -0.0568     0.9830    0.0167 ## beta                 0.9919        0.9992         -0.0650     1.0060    0.0185 ##               eCDF Max Std. Pair Dist. ## distance        0.0730          0.0927 ## market_return   0.0243          1.1393 ## alpha           0.0467          0.8110 ## beta            0.0426          0.8197 ##  ## Sample Sizes: ##           Control Treated ## All           507     493 ## Matched       493     493 ## Unmatched      14       0 ## Discarded       0       0 matched_data <- match.data(psm) ggplot(matched_data, aes(x = return, fill = factor(treatment))) +   geom_density(alpha = 0.5) +   labs(title = \"Return Distribution After Matching\", fill = \"Treatment\") +   theme_minimal()"},{"path":"/articles/causal-methods-overview.html","id":"causal-forests-optional","dir":"Articles","previous_headings":"","what":"üå≤ 3. Causal Forests (Optional)","title":"Causal Inference Methods Overview","text":"can also use advanced estimators like causal forests (via grf package). covered can estimate heterogeneous treatment effects. Install explore : https://grf-labs.github.io/grf/","code":""},{"path":[]},{"path":"/articles/causal-methods-overview.html","id":"citation","dir":"Articles","previous_headings":"","what":"üìñ Citation","title":"Causal Inference Methods Overview","text":"","code":"citation(\"CausalInvestData\") ## To cite the CausalInvestData package in publications, use: ##  ##   Conilias Zvobwo E (2025). _CausalInvestData: Simulated Datasets for ##   Causal Inference in Investment Management_. R package version 0.1.0, ##   <https://github.com/edzai/CausalInvestData>. ##  ## A BibTeX entry for LaTeX users is ##  ##   @Manual{, ##     title = {CausalInvestData: Simulated Datasets for Causal Inference in Investment Management}, ##     author = {Edzai {Conilias Zvobwo}}, ##     year = {2025}, ##     note = {R package version 0.1.0}, ##     url = {https://github.com/edzai/CausalInvestData}, ##   }"},{"path":"/articles/dags-and-assumptions.html","id":"dags-and-assumptions-in-causal-inference","dir":"Articles","previous_headings":"","what":"üîó DAGs and Assumptions in Causal Inference","title":"DAGs and Assumptions in Causal Inference","text":"Directed Acyclic Graphs (DAGs) provide powerful way encode assumptions variables system related. help us: - Identify confounders mediators - Test identification strategies - Derive adjustment sets","code":""},{"path":"/articles/dags-and-assumptions.html","id":"define-a-simple-dag","dir":"Articles","previous_headings":"","what":"üéØ Define a Simple DAG","title":"DAGs and Assumptions in Causal Inference","text":"Let‚Äôs say ‚Äôre estimating effect Treatment Outcome, confounder X.","code":"dag <- dagitty(\"dag {   X -> Treatment   X -> Outcome   Treatment -> Outcome }\")  plot(dag)"},{"path":"/articles/dags-and-assumptions.html","id":"adjustment-sets","dir":"Articles","previous_headings":"","what":"üìö Adjustment Sets","title":"DAGs and Assumptions in Causal Inference","text":"variables need control identify causal effect Treatment Outcome? shows adjusting X sufficient.","code":"adjustmentSets(dag, exposure = \"Treatment\", outcome = \"Outcome\") ## { X }"},{"path":"/articles/dags-and-assumptions.html","id":"more-complex-dag","dir":"Articles","previous_headings":"","what":"üß† More Complex DAG","title":"DAGs and Assumptions in Causal Inference","text":"","code":"complex_dag <- dagitty(\"dag {   Age -> Treatment   Income -> Treatment   Age -> Outcome   Income -> Outcome   Treatment -> Behavior -> Outcome   unobserved1 [unobserved]   unobserved1 -> Income   unobserved1 -> Outcome }\")  ggdag::ggdag(complex_dag, layout = \"circle\") +   ggtitle(\"DAG with Confounding and Mediation\")"},{"path":"/articles/dags-and-assumptions.html","id":"summary","dir":"Articles","previous_headings":"","what":"‚úÖ Summary","title":"DAGs and Assumptions in Causal Inference","text":"DAGs help us: - Encode causal assumptions - Identify valid adjustment strategies - Prevent common pitfalls like conditioning colliders Learning draw analyze DAGs core skill causal analyst.","code":""},{"path":"/articles/dags-and-assumptions.html","id":"references","dir":"Articles","previous_headings":"","what":"üìñ References","title":"DAGs and Assumptions in Causal Inference","text":"Textor et al.¬†(2016). dagitty: Graphical Analysis Structural Causal Models Pearl (2009). Causality: Models, Reasoning, Inference","code":""},{"path":"/articles/data-visuals.html","id":"fund-performance-distribution","dir":"Articles","previous_headings":"","what":"üìà Fund Performance Distribution","title":"Dataset Visualizations","text":"","code":"data(\"fund_performance\")  ggplot(fund_performance, aes(x = return, fill = factor(treatment))) +   geom_histogram(alpha = 0.7, bins = 40, position = \"identity\") +   labs(title = \"Distribution of Fund Returns by Treatment\",        x = \"Return\", y = \"Count\", fill = \"Treatment\") +   theme_minimal()"},{"path":"/articles/data-visuals.html","id":"client-behavior-correlation-of-features","dir":"Articles","previous_headings":"","what":"üßÆ Client Behavior: Correlation of Features","title":"Dataset Visualizations","text":"","code":"data(\"client_behavior\")  client_behavior %>%   select(age, income, satisfaction_score) %>%   GGally::ggpairs(title = \"Correlation Matrix of Client Features\") ## Registered S3 method overwritten by 'GGally': ##   method from    ##   +.gg   ggplot2"},{"path":"/articles/data-visuals.html","id":"macro-shocks-over-time","dir":"Articles","previous_headings":"","what":"üìÜ Macro Shocks Over Time","title":"Dataset Visualizations","text":"","code":"data(\"macro_shocks\")  macro_shocks %>%   pivot_longer(cols = c(\"interest_rate\", \"gdp_growth\", \"market_index\")) %>%   ggplot(aes(x = date, y = value, color = name)) +   geom_line() +   facet_wrap(~ name, scales = \"free_y\") +   theme_minimal() +   labs(title = \"Macro Shocks Over Time\", y = \"Value\", x = \"Date\")"},{"path":"/articles/heterogeneous-effects.html","id":"what-are-heterogeneous-treatment-effects","dir":"Articles","previous_headings":"","what":"üß™ What Are Heterogeneous Treatment Effects?","title":"Heterogeneous Treatment Effects","text":"Heterogeneous Treatment Effects (HTEs) occur impact treatment varies across different units subgroups population. financial decision-making, understanding benefits (less) given strategy can useful knowing average effect. ‚Äôll explore using fund_performance dataset.","code":""},{"path":"/articles/heterogeneous-effects.html","id":"load-the-data","dir":"Articles","previous_headings":"","what":"üì¶ Load the Data","title":"Heterogeneous Treatment Effects","text":"Let‚Äôs inspect treatment effects differ levels beta (proxy fund risk exposure):","code":"data(\"fund_performance\") head(fund_performance) ##   fund_id market_return        alpha      beta treatment       return ## 1       1   0.003952435 -0.009915974 0.9217857         0 -0.007775751 ## 2       2   0.036982251 -0.010799101 1.1331275         1  0.032828934 ## 3       3   0.215870831  0.009640395 1.0374590         1  0.224115880 ## 4       4   0.067050839  0.007356497 1.1228787         1  0.080673608 ## 5       5   0.072928774 -0.040986855 0.9176203         0  0.051918971 ## 6       6   0.231506499  0.030811469 0.8564341         0  0.228707376"},{"path":"/articles/heterogeneous-effects.html","id":"stratify-by-fund-beta-quantiles","dir":"Articles","previous_headings":"","what":"üìä Stratify by Fund Beta Quantiles","title":"Heterogeneous Treatment Effects","text":"","code":"fund_performance <- fund_performance %>%   mutate(beta_group = ntile(beta, 3))  # low, medium, high  group_summary <- fund_performance %>%   group_by(beta_group, treatment) %>%   summarise(mean_return = mean(return), .groups = \"drop\")  group_summary %>%   tidyr::pivot_wider(names_from = treatment, values_from = mean_return,                      names_prefix = \"treatment_\") %>%   mutate(estimated_effect = treatment_1 - treatment_0) ## # A tibble: 3 √ó 4 ##   beta_group treatment_0 treatment_1 estimated_effect ##        <int>       <dbl>       <dbl>            <dbl> ## 1          1      0.0681      0.0801          0.0119  ## 2          2      0.0696      0.0726          0.00305 ## 3          3      0.0791      0.0766         -0.00253"},{"path":"/articles/heterogeneous-effects.html","id":"visualize-treatment-effects-by-risk-exposure","dir":"Articles","previous_headings":"","what":"üìà Visualize Treatment Effects by Risk Exposure","title":"Heterogeneous Treatment Effects","text":"","code":"group_summary %>%   ggplot(aes(x = factor(beta_group), y = mean_return, fill = factor(treatment))) +   geom_col(position = \"dodge\") +   labs(title = \"Returns by Treatment Across Beta Groups\",        x = \"Beta Quantile Group\", y = \"Mean Return\",        fill = \"Treatment\") +   theme_minimal()"},{"path":"/articles/heterogeneous-effects.html","id":"optional-use-causal-forests-grf","dir":"Articles","previous_headings":"","what":"üå≤ Optional: Use Causal Forests (grf)","title":"Heterogeneous Treatment Effects","text":"grf package installed, can run:","code":"# Uncomment and install if needed # install.packages(\"grf\")  # library(grf) # X <- fund_performance %>% select(market_return, alpha, beta) # Y <- fund_performance$return # W <- fund_performance$treatment # forest <- causal_forest(X, Y, W) # tau_hat <- predict(forest)$predictions # hist(tau_hat, breaks = 30, main = \"Estimated Treatment Effects (GRF)\", xlab = \"tau_hat\")"},{"path":"/articles/heterogeneous-effects.html","id":"summary","dir":"Articles","previous_headings":"","what":"‚úÖ Summary","title":"Heterogeneous Treatment Effects","text":"Even without advanced ML, subgroup analysis reveals important insights treatments work differently different fund profiles.","code":""},{"path":"/articles/heterogeneous-effects.html","id":"citation","dir":"Articles","previous_headings":"","what":"üìñ Citation","title":"Heterogeneous Treatment Effects","text":"","code":"citation(\"CausalInvestData\") ## To cite the CausalInvestData package in publications, use: ##  ##   Conilias Zvobwo E (2025). _CausalInvestData: Simulated Datasets for ##   Causal Inference in Investment Management_. R package version 0.1.0, ##   <https://github.com/edzai/CausalInvestData>. ##  ## A BibTeX entry for LaTeX users is ##  ##   @Manual{, ##     title = {CausalInvestData: Simulated Datasets for Causal Inference in Investment Management}, ##     author = {Edzai {Conilias Zvobwo}}, ##     year = {2025}, ##     note = {R package version 0.1.0}, ##     url = {https://github.com/edzai/CausalInvestData}, ##   }"},{"path":"/articles/instrumental-variables.html","id":"instrumental-variables-with-simulated-data","dir":"Articles","previous_headings":"","what":"üéØ Instrumental Variables with Simulated Data","title":"Instrumental Variables with Simulated Data","text":"Instrumental Variables (IV) help identify causal effects unobserved confounding. instrument affects treatment direct path outcome.","code":""},{"path":"/articles/instrumental-variables.html","id":"simulate-confounded-data","dir":"Articles","previous_headings":"","what":"1. üß™ Simulate Confounded Data","title":"Instrumental Variables with Simulated Data","text":"","code":"set.seed(123) n <- 1000  U <- rnorm(n)  # unobserved confounder Z <- rbinom(n, 1, 0.5)  # instrument X <- 0.5 * Z + 0.7 * U + rnorm(n)  # treatment, influenced by instrument and confounder Y <- 2 * X + 1 * U + rnorm(n)      # outcome, influenced by treatment and confounder  data <- data.frame(Y, X, Z, U) head(data) ##            Y          X Z           U ## 1 -3.6659226 -1.2133196 0 -0.56047565 ## 2 -0.5926277 -0.4683815 0 -0.23017749 ## 3  1.2321894  0.1889978 0  1.55870831 ## 4  1.8893736  1.1764246 1  0.07050839 ## 5  3.3253852  1.2108564 0  0.12928774 ## 6  8.8949617  3.8277590 1  1.71506499"},{"path":"/articles/instrumental-variables.html","id":"ols-is-biased-due-to-unobserved-confounding","dir":"Articles","previous_headings":"","what":"2. ‚ö†Ô∏è OLS is Biased Due to Unobserved Confounding","title":"Instrumental Variables with Simulated Data","text":"","code":"ols_model <- lm(Y ~ X, data = data) summary(ols_model) ##  ## Call: ## lm(formula = Y ~ X, data = data) ##  ## Residuals: ##     Min      1Q  Median      3Q     Max  ## -4.4015 -0.8701 -0.0011  0.8749  4.0078  ##  ## Coefficients: ##             Estimate Std. Error t value Pr(>|t|)     ## (Intercept) -0.09824    0.04145   -2.37    0.018 *   ## X            2.44974    0.03357   72.97   <2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 1.283 on 998 degrees of freedom ## Multiple R-squared:  0.8421, Adjusted R-squared:  0.842  ## F-statistic:  5324 on 1 and 998 DF,  p-value: < 2.2e-16"},{"path":"/articles/instrumental-variables.html","id":"use-iv-estimate-via-ivreg","dir":"Articles","previous_headings":"","what":"3. ‚úÖ Use IV: Estimate via ivreg","title":"Instrumental Variables with Simulated Data","text":"","code":"iv_model <- ivreg(Y ~ X | Z, data = data) summary(iv_model) ##  ## Call: ## ivreg(formula = Y ~ X | Z, data = data) ##  ## Residuals: ##      Min       1Q   Median       3Q      Max  ## -4.30901 -0.88235  0.01353  0.94421  4.46543  ##  ## Coefficients: ##             Estimate Std. Error t value Pr(>|t|)     ## (Intercept) -0.01573    0.05564  -0.283    0.777     ## X            2.12700    0.14094  15.091   <2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 1.341 on 998 degrees of freedom ## Multiple R-Squared: 0.8275,  Adjusted R-squared: 0.8274  ## Wald test: 227.7 on 1 and 998 DF,  p-value: < 2.2e-16"},{"path":"/articles/instrumental-variables.html","id":"visualize-the-first-stage-z-x","dir":"Articles","previous_headings":"","what":"4. üìä Visualize the First Stage (Z ‚Üí X)","title":"Instrumental Variables with Simulated Data","text":"","code":"ggplot(data, aes(x = factor(Z), y = X)) +   geom_boxplot(fill = \"skyblue\") +   labs(title = \"First Stage: Instrument Z Effect on Treatment X\", x = \"Instrument (Z)\", y = \"Treatment (X)\") +   theme_minimal()"},{"path":"/articles/instrumental-variables.html","id":"iv-assumptions-recap","dir":"Articles","previous_headings":"","what":"5. ‚úÖ IV Assumptions Recap","title":"Instrumental Variables with Simulated Data","text":"Relevance: Z correlated X ‚úîÔ∏è Exclusion Restriction: Z directly affect Y ‚ùå (U must affected Z) Independence: Z independent unmeasured confounders (U)","code":""},{"path":[]},{"path":"/articles/instrumental-variables.html","id":"references","dir":"Articles","previous_headings":"","what":"üìñ References","title":"Instrumental Variables with Simulated Data","text":"Angrist & Pischke (2009). Mostly Harmless Econometrics Wooldridge (2010). Econometric Analysis Cross Section Panel Data","code":""},{"path":"/articles/intro.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Introduction to CausalInvestData","text":"CausalInvestData provides simulated datasets causal inference institutional investment management. package includes four core datasets designed reflect real-world structures, enabling users prototype, teach, evaluate methods propensity score matching, causal forests, impact analysis.","code":""},{"path":"/articles/intro.html","id":"dataset-fund_performance","dir":"Articles","previous_headings":"","what":"Dataset: fund_performance","title":"Introduction to CausalInvestData","text":"","code":"data(\"fund_performance\", package = \"CausalInvestData\") head(fund_performance) ##   fund_id market_return        alpha      beta treatment       return ## 1       1   0.003952435 -0.009915974 0.9217857         0 -0.007775751 ## 2       2   0.036982251 -0.010799101 1.1331275         1  0.032828934 ## 3       3   0.215870831  0.009640395 1.0374590         1  0.224115880 ## 4       4   0.067050839  0.007356497 1.1228787         1  0.080673608 ## 5       5   0.072928774 -0.040986855 0.9176203         0  0.051918971 ## 6       6   0.231506499  0.030811469 0.8564341         0  0.228707376"},{"path":"/articles/intro.html","id":"propensity-score-matching-example","dir":"Articles","previous_headings":"Dataset: fund_performance","what":"Propensity Score Matching Example","title":"Introduction to CausalInvestData","text":"","code":"library(MatchIt) ## Warning: package 'MatchIt' was built under R version 4.3.3 m.out <- matchit(treatment ~ market_return + alpha + beta, data = fund_performance) summary(m.out) ##  ## Call: ## matchit(formula = treatment ~ market_return + alpha + beta, data = fund_performance) ##  ## Summary of Balance for All Data: ##               Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean ## distance             0.4942        0.4919          0.0961     0.9914    0.0250 ## market_return        0.0623        0.0610          0.0134     0.9360    0.0079 ## alpha                0.0102        0.0115         -0.0687     0.9442    0.0194 ## beta                 0.9919        0.9993         -0.0654     0.9965    0.0186 ##               eCDF Max ## distance        0.0725 ## market_return   0.0232 ## alpha           0.0512 ## beta            0.0413 ##  ## Summary of Balance for Matched Data: ##               Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean ## distance             0.4942        0.4920          0.0887     1.0413    0.0230 ## market_return        0.0623        0.0602          0.0208     0.9314    0.0088 ## alpha                0.0102        0.0113         -0.0568     0.9830    0.0167 ## beta                 0.9919        0.9992         -0.0650     1.0060    0.0185 ##               eCDF Max Std. Pair Dist. ## distance        0.0730          0.0927 ## market_return   0.0243          1.1393 ## alpha           0.0467          0.8110 ## beta            0.0426          0.8197 ##  ## Sample Sizes: ##           Control Treated ## All           507     493 ## Matched       493     493 ## Unmatched      14       0 ## Discarded       0       0"},{"path":"/articles/intro.html","id":"dataset-portfolio_allocations","dir":"Articles","previous_headings":"","what":"Dataset: portfolio_allocations","title":"Introduction to CausalInvestData","text":"","code":"data(\"portfolio_allocations\", package = \"CausalInvestData\") head(portfolio_allocations) ##   portfolio_id risk_level equity_allocation treatment     return ## 1            1        Low         0.4080645         1 0.06659800 ## 2            2       High         0.7138592         1 0.09565076 ## 3            3     Medium         0.7284506         1 0.07306955 ## 4            4       High         0.2891309         1 0.09795321 ## 5            5        Low         0.8376339         0 0.10054662 ## 6            6     Medium         0.4115289         1 0.08804457 ##   bond_allocation ## 1       0.5919355 ## 2       0.2861408 ## 3       0.2715494 ## 4       0.7108691 ## 5       0.1623661 ## 6       0.5884711"},{"path":"/articles/intro.html","id":"dataset-client_behavior","dir":"Articles","previous_headings":"","what":"Dataset: client_behavior","title":"Introduction to CausalInvestData","text":"","code":"data(\"client_behavior\", package = \"CausalInvestData\") head(client_behavior) ##   client_id age   income satisfaction_score treatment churned ## 1         1  54 65785.65           4.898391         0       0 ## 2         2  66 56907.43           2.481101         1       1 ## 3         3  32 57223.12           2.072351         0       0 ## 4         4  48 49584.93           6.903271         0       0 ## 5         5  75 46669.48           3.650145         0       0 ## 6         6  33 52759.41           1.038131         1       0"},{"path":"/articles/intro.html","id":"dataset-macro_shocks","dir":"Articles","previous_headings":"","what":"Dataset: macro_shocks","title":"Introduction to CausalInvestData","text":"","code":"data(\"macro_shocks\", package = \"CausalInvestData\") head(macro_shocks) ##         date interest_rate gdp_growth market_index ## 1 2020-01-01    0.04858548 0.02098241   0.03418012 ## 2 2020-02-01    0.03740164 0.02505696   0.05356738 ## 3 2020-03-01    0.04924685 0.02460699   0.04155380 ## 4 2020-04-01    0.05109889 0.01260686   0.01707771 ## 5 2020-05-01    0.02392792 0.02387595   0.02444632 ## 6 2020-06-01    0.06718417 0.01306215  -0.04220713"},{"path":"/articles/intro.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Introduction to CausalInvestData","text":"package ideal : Financial data scientists building causal ML pipelines Academics teaching causal inference methods Practitioners evaluating financial interventions cite package, run:","code":"citation(\"CausalInvestData\") ## To cite the CausalInvestData package in publications, use: ##  ##   Conilias Zvobwo E (2025). _CausalInvestData: Simulated Datasets for ##   Causal Inference in Investment Management_. R package version 0.1.0, ##   <https://github.com/edzai/CausalInvestData>. ##  ## A BibTeX entry for LaTeX users is ##  ##   @Manual{, ##     title = {CausalInvestData: Simulated Datasets for Causal Inference in Investment Management}, ##     author = {Edzai {Conilias Zvobwo}}, ##     year = {2025}, ##     note = {R package version 0.1.0}, ##     url = {https://github.com/edzai/CausalInvestData}, ##   }"},{"path":"/articles/sensitivity-analysis.html","id":"sensitivity-analysis-why-it-matters","dir":"Articles","previous_headings":"","what":"üéØ Sensitivity Analysis: Why It Matters","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"Even using careful matching regression, unobserved confounding may bias treatment effect estimates. Sensitivity analysis helps us quantify much unobserved bias required nullify results.","code":""},{"path":"/articles/sensitivity-analysis.html","id":"simulate-confounded-data","dir":"Articles","previous_headings":"","what":"1. üß™ Simulate Confounded Data","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"","code":"set.seed(123) n <- 1000  U <- rnorm(n)  # unobserved confounder X <- rbinom(n, 1, prob = plogis(0.3 * U))  # treatment depends on U Y <- 2 * X + 1.5 * U + rnorm(n)  # outcome depends on X and U  data <- data.frame(X, Y, U)"},{"path":"/articles/sensitivity-analysis.html","id":"naive-regression-no-u-adjustment","dir":"Articles","previous_headings":"","what":"2. ‚ö†Ô∏è Naive Regression (No U Adjustment)","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"","code":"naive_model <- lm(Y ~ X, data = data) summary(naive_model) ##  ## Call: ## lm(formula = Y ~ X, data = data) ##  ## Residuals: ##     Min      1Q  Median      3Q     Max  ## -5.5542 -1.2648  0.0258  1.1609  5.8993  ##  ## Coefficients: ##             Estimate Std. Error t value Pr(>|t|)     ## (Intercept) -0.09461    0.07598  -1.245    0.213     ## X            2.24198    0.10967  20.444   <2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 1.733 on 998 degrees of freedom ## Multiple R-squared:  0.2952, Adjusted R-squared:  0.2945  ## F-statistic:   418 on 1 and 998 DF,  p-value: < 2.2e-16"},{"path":"/articles/sensitivity-analysis.html","id":"true-model-with-u-for-comparison","dir":"Articles","previous_headings":"","what":"3. üìè True Model with U (for comparison)","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"","code":"true_model <- lm(Y ~ X + U, data = data) summary(true_model) ##  ## Call: ## lm(formula = Y ~ X + U, data = data) ##  ## Residuals: ##     Min      1Q  Median      3Q     Max  ## -3.0533 -0.6312 -0.0234  0.6837  3.2464  ##  ## Coefficients: ##             Estimate Std. Error t value Pr(>|t|)     ## (Intercept) 0.005461   0.043212   0.126    0.899     ## X           1.984994   0.062544  31.737   <2e-16 *** ## U           1.443323   0.031525  45.784   <2e-16 *** ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 0.9841 on 997 degrees of freedom ## Multiple R-squared:  0.7728, Adjusted R-squared:  0.7724  ## F-statistic:  1696 on 2 and 997 DF,  p-value: < 2.2e-16"},{"path":"/articles/sensitivity-analysis.html","id":"sensitivity-with-manual-bias-factor","dir":"Articles","previous_headings":"","what":"4. üìâ Sensitivity with Manual Bias Factor","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"‚Äôll manually simulate adding different levels confounding changes treatment effect:","code":"bias_sim <- data.frame(   rho = seq(0, 1, by = 0.05) ) %>%   mutate(     bias = rho * sd(U),     adjusted_beta = coef(naive_model)[[\"X\"]] - bias   )  ggplot(bias_sim, aes(x = rho, y = adjusted_beta)) +   geom_line(color = \"steelblue\", size = 1) +   geom_hline(yintercept = coef(true_model)[[\"X\"]], linetype = \"dashed\", color = \"red\") +   labs(title = \"Effect of Unobserved Confounding on Estimated Treatment Effect\",        x = \"Assumed Correlation with U (rho)\", y = \"Adjusted Beta for X\") +   theme_minimal()"},{"path":"/articles/sensitivity-analysis.html","id":"summary","dir":"Articles","previous_headings":"","what":"‚úÖ Summary","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"Sensitivity analysis gives us range possible estimates different assumptions unobserved confounders. helps answer: ‚Äústrong unobserved confounding need explain away effect?‚Äù","code":""},{"path":"/articles/sensitivity-analysis.html","id":"references","dir":"Articles","previous_headings":"","what":"üìñ References","title":"Sensitivity Analysis: How Robust Is Your Causal Inference?","text":"Cinelli & Hazlett (2020). Making sense sensitivity: Extending omitted variable bias. Rosenbaum (2002). Observational Studies.","code":""},{"path":"/articles/simulate-causal-data.html","id":"why-simulate-causal-data","dir":"Articles","previous_headings":"","what":"üß™ Why Simulate Causal Data?","title":"Simulating Causal Data: A Step-by-Step Guide","text":"Simulating data helps us validate assumptions understand behavior causal estimators controlled conditions. ‚Äôs also great tool teaching.","code":""},{"path":"/articles/simulate-causal-data.html","id":"simulate-covariates","dir":"Articles","previous_headings":"","what":"1. üé≤ Simulate Covariates","title":"Simulating Causal Data: A Step-by-Step Guide","text":"","code":"set.seed(123) n <- 1000  X1 <- rnorm(n, mean = 50, sd = 10)       # Age X2 <- rbinom(n, 1, 0.5)                  # Gender (0/1) X3 <- rnorm(n, mean = 50000, sd = 15000) # Income  covariates <- data.frame(X1, X2, X3) head(covariates) ##         X1 X2       X3 ## 1 44.39524  0 37685.20 ## 2 47.69823  0 45391.14 ## 3 65.58708  0 36468.53 ## 4 50.70508  1 59406.03 ## 5 51.29288  0 66805.33 ## 6 67.15065  1 81908.20"},{"path":"/articles/simulate-causal-data.html","id":"simulate-treatment-assignment","dir":"Articles","previous_headings":"","what":"2. üßÆ Simulate Treatment Assignment","title":"Simulating Causal Data: A Step-by-Step Guide","text":"use logistic model treatment assignment based covariates:","code":"logit <- -3 + 0.05 * X1 + 0.8 * X2 - 0.00002 * X3 prob_treat <- 1 / (1 + exp(-logit)) W <- rbinom(n, 1, prob_treat)"},{"path":"/articles/simulate-causal-data.html","id":"define-potential-outcomes","dir":"Articles","previous_headings":"","what":"3. ‚ú® Define Potential Outcomes","title":"Simulating Causal Data: A Step-by-Step Guide","text":"","code":"Y0 <- 0.5 * X1 + 2 * X2 + rnorm(n, 0, 5) Y1 <- Y0 + 5  # Treatment adds 5 units"},{"path":"/articles/simulate-causal-data.html","id":"create-observed-outcome","dir":"Articles","previous_headings":"","what":"4. üìä Create Observed Outcome","title":"Simulating Causal Data: A Step-by-Step Guide","text":"","code":"Y_obs <- ifelse(W == 1, Y1, Y0)  data <- covariates %>%   mutate(treatment = W,          Y0 = Y0,          Y1 = Y1,          Y_obs = Y_obs)  head(data) ##         X1 X2       X3 treatment       Y0       Y1    Y_obs ## 1 44.39524  0 37685.20         0 21.44608 26.44608 21.44608 ## 2 47.69823  0 45391.14         1 22.21033 27.21033 27.21033 ## 3 65.58708  0 36468.53         1 25.55272 30.55272 30.55272 ## 4 50.70508  1 59406.03         0 23.86612 28.86612 23.86612 ## 5 51.29288  0 66805.33         0 38.63889 43.63889 38.63889 ## 6 67.15065  1 81908.20         0 35.38825 40.38825 35.38825"},{"path":"/articles/simulate-causal-data.html","id":"estimate-true-vs--observed-effects","dir":"Articles","previous_headings":"","what":"5. üìè Estimate True vs.¬†Observed Effects","title":"Simulating Causal Data: A Step-by-Step Guide","text":"","code":"true_ate <- mean(Y1 - Y0) est_ate <- mean(data$Y_obs[data$treatment == 1]) - mean(data$Y_obs[data$treatment == 0])  cat(\"True ATE:\", round(true_ate, 2), \"\\n\") ## True ATE: 5 cat(\"Estimated ATE (unadjusted):\", round(est_ate, 2), \"\\n\") ## Estimated ATE (unadjusted): 7.9"},{"path":"/articles/simulate-causal-data.html","id":"visualize-propensity-score-overlap","dir":"Articles","previous_headings":"","what":"6. üìâ Visualize Propensity Score Overlap","title":"Simulating Causal Data: A Step-by-Step Guide","text":"","code":"data$prop_score <- prob_treat  ggplot(data, aes(x = prop_score, fill = factor(treatment))) +   geom_density(alpha = 0.5) +   labs(title = \"Propensity Score Overlap\",        x = \"Propensity Score\", fill = \"Treatment\") +   theme_minimal()"},{"path":"/articles/simulate-causal-data.html","id":"summary","dir":"Articles","previous_headings":"","what":"‚úÖ Summary","title":"Simulating Causal Data: A Step-by-Step Guide","text":"created: - Covariates - Treatment assignment (non-random) - Two potential outcomes (Y0, Y1) - Observed outcomes - ATE comparison Simulating data helps test models, teach concepts, better understand bias variance causal analysis.","code":""},{"path":"/articles/simulate-causal-data.html","id":"references","dir":"Articles","previous_headings":"","what":"üìñ References","title":"Simulating Causal Data: A Step-by-Step Guide","text":"Hern√°n & Robins (2020). Causal Inference: . Pearl (2009). Causality.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Edzai Conilias Zvobwo. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Conilias Zvobwo E (2025). CausalInvestData: Simulated Datasets Causal Inference Investment Management. R package version 0.1.0, https://github.com/edzai/CausalInvestData.","code":"@Manual{,   title = {CausalInvestData: Simulated Datasets for Causal Inference in Investment Management},   author = {Edzai {Conilias Zvobwo}},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/edzai/CausalInvestData}, }"},{"path":"/index.html","id":"welcome-to-causalinvestdata","dir":"","previous_headings":"","what":"CausalInvestData","title":"CausalInvestData","text":"CausalInvestData open-source R package provides realistic, simulated datasets applying evaluating causal inference methods context institutional investment management. Whether ‚Äôre educator, data scientist, policy analyst, datasets help : - Prototype matching models (e.g.¬†PSM) - Estimate treatment effects using real-world structures - Visualize economic shocks portfolio behavior","code":""},{"path":"/index.html","id":"mag-whats-inside","dir":"","previous_headings":"","what":"üîç What‚Äôs Inside?","title":"CausalInvestData","text":"fund_performance: Returns, alpha/beta, treatment outcomes portfolio_allocations: Strategic weights outcomes risk client_behavior: Demographics, satisfaction, churn, advice macro_shocks: Interest rates, GDP, market indices time","code":""},{"path":"/index.html","id":"open_book-learn-by-doing","dir":"","previous_headings":"","what":"üìñ Learn by Doing","title":"CausalInvestData","text":"Explore articles: - Introduction - Dataset Visualizations - Causal Inference Methods","code":""},{"path":"/index.html","id":"chart_with_upwards_trend-built-by-edzai-zvobwo","dir":"","previous_headings":"","what":"üìà Built by Edzai Zvobwo","title":"CausalInvestData","text":"package maintained Edzai Zvobwo support education, analytics, digital infrastructure financial professionals across Africa beyond.","code":""},{"path":"/reference/client_behavior.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated Client Behavior Data ‚Äî client_behavior","title":"Simulated Client Behavior Data ‚Äî client_behavior","text":"dataset simulates client characteristics outcomes satisfaction churn.","code":""},{"path":"/reference/client_behavior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated Client Behavior Data ‚Äî client_behavior","text":"","code":"data(client_behavior)"},{"path":"/reference/client_behavior.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated Client Behavior Data ‚Äî client_behavior","text":"data frame 1000 observations 6 variables: client_id Client identifier age Client age income Annual income satisfaction_score Score 1 10 treatment Indicator advisory treatment churned Whether client churned (1) (0)","code":""},{"path":"/reference/fund_performance.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated Fund Performance Data ‚Äî fund_performance","title":"Simulated Fund Performance Data ‚Äî fund_performance","text":"dataset simulates mutual fund performance including treatment effects active allocation strategies.","code":""},{"path":"/reference/fund_performance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated Fund Performance Data ‚Äî fund_performance","text":"","code":"fund_performance"},{"path":"/reference/fund_performance.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated Fund Performance Data ‚Äî fund_performance","text":"data frame 1000 rows 6 variables: fund_id Unique identifier market_return Simulated market return alpha Excess return independent market beta Market sensitivity treatment Binary indicator fund strategy treatment return Observed return post-treatment","code":""},{"path":"/reference/macro_shocks.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated Macroeconomic Shocks Time Series ‚Äî macro_shocks","title":"Simulated Macroeconomic Shocks Time Series ‚Äî macro_shocks","text":"time-series dataset macroeconomic variables affecting institutional returns.","code":""},{"path":"/reference/macro_shocks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated Macroeconomic Shocks Time Series ‚Äî macro_shocks","text":"","code":"data(macro_shocks)"},{"path":"/reference/macro_shocks.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated Macroeconomic Shocks Time Series ‚Äî macro_shocks","text":"data frame 120 monthly observations: date Monthly observation date interest_rate Simulated interest rate gdp_growth GDP growth rate market_index Cumulative index market performance","code":""},{"path":"/reference/portfolio_allocations.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated Portfolio Allocation Data ‚Äî portfolio_allocations","title":"Simulated Portfolio Allocation Data ‚Äî portfolio_allocations","text":"dataset simulates portfolio allocations returns based risk profiles treatment exposure.","code":""},{"path":"/reference/portfolio_allocations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated Portfolio Allocation Data ‚Äî portfolio_allocations","text":"","code":"data(portfolio_allocations)"},{"path":"/reference/portfolio_allocations.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated Portfolio Allocation Data ‚Äî portfolio_allocations","text":"data frame 500 observations 5 variables: portfolio_id Unique identifier risk_level Risk profile: Low, Medium, High equity_allocation Proportion allocated equities bond_allocation Proportion allocated bonds treatment Indicator allocation policy treatment return Observed return","code":""}]
